<div class="row">
    <div class="col">
        <table mat-table [dataSource]="allHeaders" class="mat-elevation-z8">

            <ng-container matColumnDef="databaseField">
                <th mat-header-cell *matHeaderCellDef>Database Field</th>
                <td mat-cell *matCellDef="let databaseField">
                    {{ databaseField }}
                    <span class="required-star" *ngIf="headerIsRequired(databaseField)">
                        *
                    </span>
                </td>
            </ng-container>

            <ng-container matColumnDef="csvHeader">
                <th mat-header-cell *matHeaderCellDef>CSV Column</th>
                <td mat-cell *matCellDef="let csvHeader">
                    <mat-select
                        [value]="mapping.get(csvHeader)"
                        (valueChange)="mapping.set(csvHeader, $event)"
                    >
                        <mat-option value="">
                            Leave unmapped
                        </mat-option>
                        <mat-option *ngFor="let field of csvHeaders" [value]="field">
                            {{ field }}
                        </mat-option>
                    </mat-select>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="tableColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: tableColumns"></tr>
        </table>
    </div>
</div>
<div class="row mt-5">
    <div class="col col-auto ml-auto">
        <button mat-raised-button color="primary" [disabled]="!formOk" (click)="onUpload()">Upload</button>
        <button mat-raised-button (click)="onAutoMap()">Automap</button>
        <button mat-raised-button (click)="onCancel()">Cancel</button>
    </div>
</div>
<p>
    {{ result }}
</p>
